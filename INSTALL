Installatie Eekboek Boekhoudpakket (command line versie)
========================================================

Let op: Dit document gebruikt de ISO-8859.1 (Latin1) tekenset.
Niet-ASCII tekens worden alleen juist getoond indien je programma op
deze tekenset is ingesteld.

Benodigdheden
-------------

Perl5.8.x met DBI (zit standaard in Perl)
PostgreSQL (zit standaard in de meeste Linux systemen)

Perl modules (zelf te installeren):
       DBD::Pg 1.41 of later
       Term::ReadLine::Gnu
       Config::IniFiles
       (Text::CSV_XS voor de Exact importprogramma's)

Bouwen, verifiëren en installeren
---------------------------------

Voor het bouwen en installeren wordt gebruik gemaakt van het
Module::Build framework. Deze wordt vooralsnog met de kit meegeleverd
en hoeft niet afzonderlijk te worden geïnstalleerd.

   $ perl Build.PL
   $ Build
   $ Build test

Afhankelijk van de systeeminstellingen kan het nodig zijn "./Build" te
gebruiken, en/of "perl" ervoor te zetten.

"Build test" vereist generieke toegang tot een draaiende PostgreSQL
database server, alsmede de mogelijkheid om een database met de naam
'eekboek_sample' aan te maken of te gebruiken. Indien nodig kunnen de
environment variabelen PGHOST PGPORT en PGUSER worden toegepast; zie
de PostgreSQL documentatie. Als het niet mogelijk is de database
server te benaderen, gebruik dan

   $ Build test --skipdbtests

Zonder een succesvolle afronding van de testprocedure inclusief
database tests heeft het echter weinig zin om verder te gaan.
Raadpleeg in dat geval de .log files en eventueel de mailing list (zie
verderop).

Het is niet nodig om EekBoek te installeren om het te kunnen
gebruiken. Het is dan wel noodzakelijk om de environment variabelen
PERL5LIB en PATH op de juiste wijze op te zetten:

   $ PERL5LIB=<eekboekdir>/blib/lib:$PERL5LIB; export PERL5LIB
   $ PATH=<eekboekdir>/blib/script:$PATH; export PATH

Hierin is <eekboekdir> de plaats waar eerder de make all en make test
is uitgevoerd.

Wil je installeren:

   $ su
   # ./Build install

Installatie verwijderen:

   Zoek uit waar de spullen zijn neergezet onder /usr/lib/perl5.
   De gehele directory EB kun je weghalen, evenals EekBoek.pm, EB.pm
   en het programma /usr/bin/ebshell.

Bouwen, verifiëren en installeren (traditionele aanpak)
-------------------------------------------------------

Let op: Deze wijze van bouwen maakt gebruik van de MakeMaker
compatibility mode van het Module::Build framework. In wezen doe je
dus hetzelfde als in de hiebovengeschetste "Build" aanpak.

   $ perl Makefile.PL
   $ make all
   $ make test

De laatste vereist generieke toegang tot een draaiende PostgreSQL
database server, alsmede de mogelijkheid om een database met de naam
'eekboek_sample' aan te maken of te gebruiken. Indien nodig kunnen de
environment variabelen PGHOST PGPORT en PGUSER worden toegepast; zie
de PostgreSQL documentatie. Als het niet mogelijk is de database
server te benaderen, zet dan de environment variabele EB_SKIPDBTESTS
op de waarde 1 alvorens de test uit te voeren.

Zonder een succesvolle afronding van de testprocedure inclusief
database tests heeft het echter weinig zin om verder te gaan.
Raadpleeg in dat geval de .log files en eventueel de mailing list (zie
verderop).

Het is niet nodig om EekBoek te installeren om het te kunnen
gebruiken. Het is dan wel noodzakelijk om de environment variabelen
PERL5LIB en PATH op de juiste wijze op te zetten:

   $ PERL5LIB=<eekboekdir>/blib/lib:$PERL5LIB; export PERL5LIB
   $ PATH=<eekboekdir>/blib/script:$PATH; export PATH

Hierin is <eekboekdir> de plaats waar eerder de make all en make test
is uitgevoerd.

Wil je installeren:

   $ su
   # make install

Installatie verwijderen:

   Zoek uit waar de spullen zijn neergezet onder /usr/lib/perl5.
   De gehele directory EB kun je weghalen, evenals EekBoek.pm, EB.pm
   en het programma /usr/bin/ebshell.

Aantekeningen
-------------

* Liefhebbers van RPM kunnen de meeegeleverde EekBoek.spec file
  gebruiken, of een .src.rpm downloaden van de SourceForge site,
  http://sourceforge.net/project/showfiles.php?group_id=154512 .

  Let op: Perl RPM's moet je altijd op je eigen systeem bouwen! Binary
  RPM's kunnen allen worden gebruikt indien ze zijn aangemaakt op een
  identiek systeem, met identieke perl-configuratie.

  Bij het bouwen vanuit de RPM worden de database tests standaard niet
  uitgevoerd. Om ze toch uit te voeren, gebruik

    $ rpmbuild ... --with dbtests ...

* Je moet de mogelijkheid hebben om PostgreSQL databases aan te maken.
  Dat kun je bereiken met (veronderstel dat je user 'piet' bent):

   $ su 
   # su - postgres
   # createuser -d piet
   # exit
   $ exit

  Raadpleeg anders je systeembeheerder.

* Voor het uitwisselen van ervaringen, vragen om ondersteuning en zo:
  gebruik de mailing list
  http://lists.sourceforge.net/lists/listinfo/eekboek-users .

ZIE OOK DE ON-LINE DOCUMENTATIE http://www.squirrel.nl/eekboek/docs/ . 

----------------------------------------------------------------------------
Johan Vromans                                           jvromans@squirrel.nl
Squirrel Consultancy                                  Exloo, the Netherlands
http://www.squirrel.nl                              http://johan.vromans.org
PGP Key 2048/4783B14D                   http://johan.vromans.org/pgpkey.html
----------------------- "Arms are made for hugging" ------------------------
