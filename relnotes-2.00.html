<h2>Wijzigingen in EekBoek 2.00</h2>

<p><em>Voor een volledige, gedetailleerde lijst van veranderingen zie
het bestand CHANGES.</em><p>

<p><strong>LEES OOK HET ITEM "<a href="#migratie">MIGRATIE</a>" AAN
HET EIND VAN DIT BESTAND.</strong></a></p>

<p>Raadpleeg &lsquo;<a href="http://wiki.eekboek.nl/Install"
target="_blank">Installeren</a>&rsquo; en &lsquo;<a
href="http://wiki.eekboek.nl/Download"
target="_blank">Download</a>&rsquo; op de EekBoek wiki om EekBoek op
uw systeem te installeren.</p>

<h3>Overzicht</h3>

<ul>
  <li><a href="#Distro">EekBoek standaard in het systeem</a>
  <li><a href="#AdmDir">De administratie-folder</a>
  <li><a href="#Config">Het configuratiebestand</a>
  <li><a href="#Unicode">Unicode</a>
  <li><a href="#GUI">De GUI</a>
  <li><a href="#Wizards">De Wizards</a>
  <li><a href="#Schema">Schema</a>
  <li><a href="#Shell">EekBoek Shell</a>
  <li><a href="#Bugfixes">Bugfixes</a>
  <li><a href="#Contrib">Door gebruikers aangeleverd</a>
  <li><a href="#Diversen">Diversen</a>
</ul>

<a name="Contrib"></a><h3>EekBoek standaard in het systeem</h3>

<p>Verschillende Linux distributies leveren EekBoek standaard mee.
Medio februari 2010 waren dat voor zover ons bekend:</p>

<ul>
  <li>Fedora, versies 11, 12 en &lsquo;rawhide&rsquo;
  <li>Debian
  <li>Ubuntu
</ul>

<p>Indien u een van deze systemen gebruikt verdient het voorkeur
EekBoek met de bij uw systeem behorende installatieset te
installeren.</p>

<p>Voor meer en bijgewerkte informatie raadpleeg de <a
href="http://wiki.eekboek.nl/Distros" target="_blank">EekBoek
wiki</a>.</p>

<a name="AdmDir"></a><h3>De administratie-folder</h3>

<p>Het is nu mogelijk om al uw administraties eenvoudig te beheren
door ze in een centrale folder op te slaan: de administratie-folder.
Administraties die u nieuw aanmaakt met behulp van een van de <a
href="#Wizards">wizards</a> zullen automatisch in deze folder worden
geplaatst.</p>

<p>Welke folder als administratie-folder wordt gebruikt hangt af van
uw EekBoek installatie. De standaardfolders zijn:</p>

<table border="1" width="100%">
  <tr>
    <td valign="top">Linux</td>
    <td valign="top"><code>$HOME/.eekboek/admdir</code></td>
  </tr>
  <tr>
    <td valign="top">Windows</td>
    <td valign="top"><p><code>$HOME\.eekboek\admdir</code> of <br>
    <code>$USERPROFILE\.eekboek\admdir</code> of </br>
    <code>$HOMEDRIVE:$HOMEPATH\.eekboek\admdir</p>
    </td>
  </tr>
  <tr>
    <td valign="top">Mac OSX</td>
    <td valign="top"><code>$HOME/.eekboek/admdir</code></td>
  </tr>
</table>

<p>U kunt de plaats van de administratie-folder instellen in het
EekBoek configuratiebestand, zie hiervoor de documentatie.</p>

<p>Raadpleeg in geval van twijfel uw systeembeheerder.</p>

<a name="Config"></a><h3>Het configuratiebestand</h3>

<p>De naam van het standaard configuratiebestand is gewijzigd in
<code>eekboek.conf</code>, dus zonder het puntje aan het begin. Uit
compatibiliteitsoverwegingen zal, indien dit bestand niet bestaat, ook
worden gekeken naar het bestand <code>.eekboek.conf</code>.</p>

<a name="Unicode"></a><h3>Unicode</h3>

<p>Ingaande versie 2.00 werkt EekBoek uitsluitend nog met bestanden
die zijn opgemaakt in de Unicode tekenset UTF-8. De ondersteuning
voor ISO-8859-1 (Latin1) is vervallen.</p>

<p>Aangezien de meeste moderne computersystemen reeds lang met Unicode
werken mag dit niet een probleem vormen.</p>

<p>Alle door EekBoek geproduceerde uitvoer wordt ook opgemaakt in de
UTF-8 tekenset.</p>

<p>Met de volledige overstap naar Unicode worden veel problemen met
b.v. tekens met accenten opgelost.</p>

<a name="GUI"></a><h3>De GUI</h3>

<p>Voor de gebruikers die niet uit de voeten kunnen met het werken met
editors en de command line brengt EekBoek 2.00 een grafische user
interface.</p>

<p>Met deze GUI is alles mogelijk wat ook met de EekBoek command line
shell kan. Daarboven biedt de GUI fraai opgemaakte rapporten die ook
afgedrukt kunnen worden. Op het scherm is het steeds mogelijk om in
rapporten rekeningnummers, boekingen en relaties aan te klikken
waardoor meteen het overzicht van het gewenste onderdeel wordt
getoond. Hiermee kan snel worden vastgesteld waar bepaalde betalingen
vandaan komen (z.g. drill-down).</p>

<p>Ook voor de verstokte command line gebruikers zal dit een
interessante faciliteit zijn.</p>

<a name="Wizards"></a><h3>De Wizards</h3>

<p>Bij het opstarten van EekBoek wordt gekeken of er administraties
beschikbaar zijn in de administratie-folder. Is dat het geval dan
biedt de opstartwizard u de mogelijkheid om een van deze
administraties te kiezen. U krijgt ook de keuze om een nieuwe
administratie aan te maken, waarbij u gebruik kunt maken van een van
de meegeleverde sjabloonadministraties:</p>

<ul>
  <li>Eenmanszaak (ZZP)</li>
  <li>BV / NV</li>
  <li>Ondernemer</li>
  <li>Vereniging / Stichting</li>
</ul>

<p>Ook is het mogelijk een volledig lege administratie op te zetten of
een kopie te maken van de EekBoek voorbeeldadministratie. Dit laatste
is met name handig wanneer u eerst wat vertrouwd wilt raken met het
werken met EekBoek alvorens uw echte administraties op te gaan zetten.</p>

<p>De EekBoek programma's hebben een command line optie
<code>--nowizard</code> om dit opstartgedrag te onderdrukken.</p>

<p><strong>Opmerking:</strong> Het programma <code>ebshell</code> zal
eerst kijken of er in de current directory een configuratiebestand
staat. Is dit niet het geval dat wordt de opstartwizard gestart. Als
er wel een configuratiebestand is zal meteen het bewerken van deze
administratie worden geactiveerd. Dit is uit compatibiliteit met
versie 1.04 van de EekBoek shell.</p>

<a name="Schema"></a><h3>Schema</h3>

<p>EekBoek vermeld in principe alleen positieve getallen op de balans.
Dat betekent dat een balansrekening die negatief is verschuift van de
ene kant van de balans naar de andere kant.</p>

<p>In bepaalde gevallen kan dit niet wenselijk zijn. In de
schema-definitie kan worden opgegeven dat een balansrekening altijd
aan dezelfde kant moet blijven staan door een uitroepteken achter de
debet/credit indicatie te zetten, bijvoorbeeld:</p>

<blockquote class="code">1  Vaste Activa
  11  Materi&euml;le vaste activa
    1100  D<strong>!</strong>   Inventaris en inrichting</blockquote>

<a name="Shell"></a><h3>EekBoek Shell</h3>

<h4>Opdrachten</h4>

<p>De nieuwe opdracht <code>schema</code> kan worden gebruikt om
tijdens het werken aan een administratie grootboekrekeningen toe te
voegen. Dit is een in de praktijk vaak voorkomende wens.</p>

<p>Gebruik de EekBoek opdracht <code>help schema</code> voor uitleg.</p>

<h4>Command line opties</h4>

<p>De volgende command line opties zijn vervallen:</p>

<blockquote class="code">--createsampleconfig
--createsampledb
--createdb
--database
--schema</blockquote>

<p>Deze opties zijn achterhaald door het invoeren van de
administratie-folder. Het aanmaken van administraties dient daarom bij
voorkeur te geschieden met de wizards, of met een van de command line opties
<code>--init</code> of <code>--import</code>.</p>

<h4>Exit codes</h4>

<p>Indien er fouten zijn opgetreden tijdens het werken met
<code>ebshell</code> zal deze bij het be&euml;ndigen een error status
afleveren. Shell procedures en make files kunnen hiervan gebruik maken.

<a name="Diversen"></a><h3>Diversen</h3>

<ul>
  <li><p>Bedragen mogen worden ingegeven met duizendtalscheidingstekens,
      bijvoorbeeld <code>1.235,56</code>.</p>
      <p>In expressies zijn duizendtalscheidingstekens niet
      toegestaan. Dit om problemen te voorkomen met de interpretatie
      van expressies als <code>24,50*1.250</code>. Is dit 30625 of 30,625?</p>
</li>

  <li><p>De opdracht <code>export</code> kent de optie
      <code>--titel</code>. Hiermee kan een omschrijving worden
      opgegeven bij export naar een archive. Als zo'n archive wordt
      gekopieerd naar de EekBoek schema directory <code>EB/schema</code>
      dan kan deze als sjabloon worden gebruikt voor nieuwe
      administraties. In het lijstje van sjablonen wordt dan de
      opgegeven omschrijving getoond.</p></li>
</ul>

<h4>Configuratiebestand</h4>
<ul>
  <li><p>Sectie &lsquo;database&rsquo;, item &lsquo;fullname&rsquo; 
      vervalt.</p>
      <p>Bij het bepalen van de interne naam van de database wordt een
      eventuele prefix <code>eekboek_</code> niet langer verwijderd.
      Deze prefix was alleen van toepassing op PostgreSQL databases.</p>
  </li>

  <li><p>Sectie &lsquo;general&rsquo;, item &lsquo;admdir&rsquo;</br>
      Kan worden gebruikt om de naam van de
      administratie-folder op te geven. Environment variabelen kunnen
      hier worden toegepast, bijvoorbeeld:</p>
      <blockquote class="code">[general]
admdir = $HOME/.eekboek/admdir</blockquote></li>

  <li><p>Sectie &lsquo;locale&rsquo;, items &lsquo;decimalpt&rsquo; en
  &lsquo;thousandsep&rsquo; zijn vervallen, alsmede
  &lsquo;numwidth&rsquo; uit sectie &lsquo;text&rsquo;.</p>
      <p>Hiervoor in de plaats komt een enkele setting
  &lsquo;amount&rsquo; in de sectie
  &lsquo;format&rsquo;. Deze setting is de vorm waarin
  bedragen moeten worden weergegeven. De overeenkomst tussen de oude
  en nieuwe methode is als volgt:</p>
      <blockquote class="code">format = 1234.56      -> dpt = "."
format = 1234,56      -> dpt = ","
format = 1.234,56     -> dpt = ",", sep = "."
format = 1,234.56     -> dpt = ".", sep = ","
format = 1.234.567,89 -> dpt = ",", sep = ".", width = 12</blockquote>
<p>De breedte wordt alleen aangepast als het format breder is dan 9 tekens.</p></li>

  <li><p>Sectie &lsquo;locale&rsquo;, item &lsquo;unicode&rsquo; vervalt.
      Alles is nu standaard Unicode en opgemaakt in UTF-8.</p></li>
</ul>

<a name="Bugfixes"></a><h3>Bugfixes</h3>

<ul>
  <li><p>Fix afboeken BTW in de volgjaren van een meerjarige
  boekhouding.</p></li>

  <li><p>Schema: Fix probleem met het herkennen van het woord
  &lsquo;priv&eacute;&rsquo;.</p></li>

  <li><p>Indien de laatste regel uit een invoerbestand eindigt in een
      backslash dan wordt een foutmelding gegeven.</p></li>
</ul>

<a name="Contrib"></a><h3>Door gebruikers aangeleverd</h3>

<p>EekBoek gebruikers hebben zelf ook materiaal aangeleverd,
zoals voorbeeldbestanden en conversieprogramma's. Mogelijk is dit
materiaal op uw systeem ge&iuml;nstalleerd, raadpleeg daarvoor uw
systeembeheerder. Anders kunt u deze vinden in de  
&lsquo;contrib&rsquo; folder van de EekBoek sources.</p>


<a name="migratie"></a><h2>Migratie</h2>

<p>De database-structuur is gewijzigd. Auto-migratie is beschikbaar.
Het wordt echter ten sterkste aangeraden VOOR INSTALLATIE VAN 2.00
eerst een export te doen, en deze na installatie van 2.00 te
importeren. </p>

<p>Bestanden in de tekenset ISO-8859-1 (Latin1) worden niet langer
ondersteund. UTF-8 is de enige toegestane tekenset. Zie ook <a
href="#Unicode">Unicode</a> hierboven.</p>

<p>Indien u bestanden heeft in de ISO-8859-1 tekenset kunt u deze
eenvoudig omzetten naar UTF-8 met bijvoorbeeld het programma
<code>iconv</code>. Indien u gebruik maakte van de
tekensetindicatie</p>

<blockquote class="code"># content-type: text; charset=iso-8859-1</blockquote>

<p>of een van de variaties daarop dan moet deze na conversie worden
verwijderd, of vervangen door</p>

<blockquote class="code"># content-type: text; charset=utf-8</blockquote>

<p>Dit betreft de vier standaardbestanden:</p>

<ul>
  <li><code>schema.dat</code></li>
  <li><code>relaties.eb</code></li>
  <li><code>opening.eb</code></li>
  <li><code>mutaties.eb</code></li>
</ul>

<p>En uiteraard ook andere bestanden welke u voor EekBoek invoer
gebruikt.</p>
